"use strict";define(["exports","jquery","core/popper","./util"],(function(e,t,n,a){Object.defineProperty(e,"__esModule",{value:!0});var r=i(t),o=i(n),l=i(a);function i(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){f(e,t,n[t])}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var d="dropdown",h="bs.dropdown",p=".".concat(h),g=r.default.fn[d],_=new RegExp("".concat(38,"|").concat(40,"|").concat(27)),m={HIDE:"hide".concat(p),HIDDEN:"hidden".concat(p),SHOW:"show".concat(p),SHOWN:"shown".concat(p),CLICK:"click".concat(p),CLICK_DATA_API:"click".concat(p).concat(".data-api"),KEYDOWN_DATA_API:"keydown".concat(p).concat(".data-api"),KEYUP_DATA_API:"keyup".concat(p).concat(".data-api")},y="disabled",v="show",b="dropup",w="dropright",C="dropleft",E="dropdown-menu-right",P="position-static",A='[data-toggle="dropdown"]',D=".dropdown form",k=".dropdown-menu",I=".navbar-nav",O=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",N="top-start",S="top-end",T="bottom-start",j="bottom-end",H="right-start",K="left-start",W={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},q={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},F=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._element=t,this._popper=null,this._config=this._getConfig(n),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var t,n,a;return t=e,a=[{key:"_jQueryInterface",value:function(t){return this.each((function(){var n=(0,r.default)(this).data(h),a="object"===s(t)?t:null;if(n||(n=new e(this,a),(0,r.default)(this).data(h,n)),"string"==typeof t){if(void 0===n[t])throw new TypeError('No method named "'.concat(t,'"'));n[t]()}}))}},{key:"_clearMenus",value:function(t){if(!t||3!==t.which&&("keyup"!==t.type||9===t.which))for(var n=[].slice.call(document.querySelectorAll(A)),a=0,o=n.length;a<o;a++){var l=e._getParentFromElement(n[a]),i=(0,r.default)(n[a]).data(h),s={relatedTarget:n[a]};if(t&&"click"===t.type&&(s.clickEvent=t),i){var u=i._menu;if((0,r.default)(l).hasClass(v)&&!(t&&("click"===t.type&&/input|textarea/i.test(t.target.tagName)||"keyup"===t.type&&9===t.which)&&r.default.contains(l,t.target))){var f=r.default.Event(m.HIDE,s);(0,r.default)(l).trigger(f),f.isDefaultPrevented()||("ontouchstart"in document.documentElement&&(0,r.default)(document.body).children().off("mouseover",null,r.default.noop),n[a].setAttribute("aria-expanded","false"),(0,r.default)(u).removeClass(v),(0,r.default)(l).removeClass(v).trigger(r.default.Event(m.HIDDEN,s)))}}}}},{key:"_getParentFromElement",value:function(e){var t,n=l.default.getSelectorFromElement(e);return n&&(t=document.querySelector(n)),t||e.parentNode}},{key:"_dataApiKeydownHandler",value:function(t){if(!(/input|textarea/i.test(t.target.tagName)?32===t.which||27!==t.which&&(40!==t.which&&38!==t.which||(0,r.default)(t.target).closest(k).length):!_.test(t.which))&&(t.preventDefault(),t.stopPropagation(),!this.disabled&&!(0,r.default)(this).hasClass(y))){var n=e._getParentFromElement(this),a=(0,r.default)(n).hasClass(v);if(a&&(!a||27!==t.which&&32!==t.which)){var o=[].slice.call(n.querySelectorAll(O));if(0!==o.length){var l=o.indexOf(t.target);38===t.which&&l>0&&l--,40===t.which&&l<o.length-1&&l++,l<0&&(l=0),o[l].focus()}}else{if(27===t.which){var i=n.querySelector(A);(0,r.default)(i).trigger("focus")}(0,r.default)(this).trigger("click")}}}},{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return W}},{key:"DefaultType",get:function(){return q}}],(n=[{key:"toggle",value:function(){if(!this._element.disabled&&!(0,r.default)(this._element).hasClass(y)){var t=e._getParentFromElement(this._element),n=(0,r.default)(this._menu).hasClass(v);if(e._clearMenus(),!n){var a={relatedTarget:this._element},i=r.default.Event(m.SHOW,a);if((0,r.default)(t).trigger(i),!i.isDefaultPrevented()){if(!this._inNavbar){if(void 0===o.default)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");var s=this._element;"parent"===this._config.reference?s=t:l.default.isElement(this._config.reference)&&(s=this._config.reference,void 0!==this._config.reference.jquery&&(s=this._config.reference[0])),"scrollParent"!==this._config.boundary&&(0,r.default)(t).addClass(P),this._popper=new o.default(s,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===(0,r.default)(t).closest(I).length&&(0,r.default)(document.body).children().on("mouseover",null,r.default.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),(0,r.default)(this._menu).toggleClass(v),(0,r.default)(t).toggleClass(v).trigger(r.default.Event(m.SHOWN,a))}}}}},{key:"show",value:function(){if(!(this._element.disabled||(0,r.default)(this._element).hasClass(y)||(0,r.default)(this._menu).hasClass(v))){var t={relatedTarget:this._element},n=r.default.Event(m.SHOW,t),a=e._getParentFromElement(this._element);(0,r.default)(a).trigger(n),n.isDefaultPrevented()||((0,r.default)(this._menu).toggleClass(v),(0,r.default)(a).toggleClass(v).trigger(r.default.Event(m.SHOWN,t)))}}},{key:"hide",value:function(){if(!this._element.disabled&&!(0,r.default)(this._element).hasClass(y)&&(0,r.default)(this._menu).hasClass(v)){var t={relatedTarget:this._element},n=r.default.Event(m.HIDE,t),a=e._getParentFromElement(this._element);(0,r.default)(a).trigger(n),n.isDefaultPrevented()||((0,r.default)(this._menu).toggleClass(v),(0,r.default)(a).toggleClass(v).trigger(r.default.Event(m.HIDDEN,t)))}}},{key:"dispose",value:function(){r.default.removeData(this._element,h),(0,r.default)(this._element).off(p),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)}},{key:"update",value:function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()}},{key:"_addEventListeners",value:function(){var e=this;(0,r.default)(this._element).on(m.CLICK,(function(t){t.preventDefault(),t.stopPropagation(),e.toggle()}))}},{key:"_getConfig",value:function(e){return e=u({},this.constructor.Default,(0,r.default)(this._element).data(),e),l.default.typeCheckConfig(d,e,this.constructor.DefaultType),e}},{key:"_getMenuElement",value:function(){if(!this._menu){var t=e._getParentFromElement(this._element);t&&(this._menu=t.querySelector(k))}return this._menu}},{key:"_getPlacement",value:function(){var e=(0,r.default)(this._element.parentNode),t=T;return e.hasClass(b)?(t=N,(0,r.default)(this._menu).hasClass(E)&&(t=S)):e.hasClass(w)?t=H:e.hasClass(C)?t=K:(0,r.default)(this._menu).hasClass(E)&&(t=j),t}},{key:"_detectNavbar",value:function(){return(0,r.default)(this._element).closest(".navbar").length>0}},{key:"_getOffset",value:function(){var e=this,t={};return"function"==typeof this._config.offset?t.fn=function(t){return t.offsets=u({},t.offsets,e._config.offset(t.offsets,e._element)||{}),t}:t.offset=this._config.offset,t}},{key:"_getPopperConfig",value:function(){var e={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(e.modifiers.applyStyle={enabled:!1}),e}}])&&c(t.prototype,n),a&&c(t,a),e}();(0,r.default)(document).on(m.KEYDOWN_DATA_API,A,F._dataApiKeydownHandler).on(m.KEYDOWN_DATA_API,k,F._dataApiKeydownHandler).on("".concat(m.CLICK_DATA_API," ").concat(m.KEYUP_DATA_API),F._clearMenus).on(m.CLICK_DATA_API,A,(function(e){e.preventDefault(),e.stopPropagation(),F._jQueryInterface.call((0,r.default)(this),"toggle")})).on(m.CLICK_DATA_API,D,(function(e){e.stopPropagation()})),r.default.fn[d]=F._jQueryInterface,r.default.fn[d].Constructor=F,r.default.fn[d].noConflict=function(){return r.default.fn[d]=g,F._jQueryInterface},e.default=F}));